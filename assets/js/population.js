const $graphPopulation = document.querySelector("#graph-population");

const tagsPopulation = ["1960", "1961", "1962", "1963", "1964", "1965", "1966", "1967", "1968", "1969", "1970", "1971", "1972", "1973", "1974", "1975", "1976", "1977", "1978", "1979", "1980", "1981", "1982", "1983", "1984", "1985", "1986", "1987", "1988", "1989", "1990", "1991", "1992", "1993", "1994", "1995", "1996", "1997", "1998", "1999", "2000", "2001", "2002", "2003", "2004", "2005", "2006", "2007", "2008", "2009", "2010", "2011", "2012", "2013", "2014", "2015", "2016", "2017", "2018", "2019", "2020", "2021", "2022"];

const datosPopulation = {

    label: "Population Chile 1960-2022",
    data: ["8141820", "8313535", "8486120", "8656006", "8825046", "8994936", "9161649", "9326268", "9491502", "9656299", "9820481", "9984378", "10145765", "10307842", "10472743", "10639531", "10804869", "10969861", "11137748", "11304331", "11469828", "11637613", "11807408", "11976513", "12147758", "12326396", "12514502", "12712784", "12918389", "13128619", "13342868", "13561945", "13782297", "13998386", "14210674", "14416796", "14615483", "14809289", "14996742", "15176410", "15351799", "15523978", "15693790", "15859112", "16017966", "16175311", "16334575", "16495538", "16661462", "16833447", "17004162", "17173573", "17341771", "17509925", "17687108", "17870124", "18083879", "18368577", "18701450", "19039485", "19300315", "19493184"],
    backgroundColor: 'rgba(54, 162, 235, 0.2)', // Color de fondo
    borderColor: 'rgba(54, 162, 235, 1)', // Color del borde
    borderWidth: 1,// Ancho del borde

};

const female = ["4049247", "4137142", "4225757", "4313561", "4400944", "4488093", "4573538", "4658087", "4742709", "4827029", "4910882", "4994475", "5077623", "5161493", "5245766", "5330494", "5414619", "5498621", "5584389", "5669474", "5753879", "5839368", "5926028", "6013032", "6101695", "6193559", "6289102", "6388742", "6491774", "6597765", "6706184", "6817011", "6928025", "7036702", "7143824", "7248291", "7349292", "7447971", "7543261", "7634572", "7724143", "7812408", "7899562", "7984277", "8065716", "8146398", "8227292", "8308544", "8392523", "8479648", "8566180", "8651769", "8736586", "8821764", "8911559", "9004176", "9111944", "9254199", "9420150", "9589082", "9720358", "9818163"];


const femaleData = [];

female.forEach((element) => {
    femaleData.push(element * -1);
});

const maleData = ["4092573", "4176394", "4260363", "4342445", "4424102", "4506843", "4588112", "4668181", "4748792", "4829270", "4909600", "4989903", "5068141", "5146349", "5226977", "5309036", "5390249", "5471239", "5553360", "5634857", "5715949", "5798244", "5881381", "5963481", "6046063", "6132837", "6225400", "6324042", "6426615", "6530854", "6636684", "6744934", "6854273", "6961685", "7066850", "7168506", "7266190", "7361319", "7453481", "7541838", "7627655", "7711571", "7794228", "7874834", "7952250", "8028913", "8107283", "8186994", "8268938", "8353799", "8437983", "8521805", "8605184", "8688160", "8775549", "8865948", "8971935", "9114379", "9281300", "9450404", "9579957", "9675022"];


const tooltip={
    
    callbacks:{
        label:function(context){
            return `${context.dataset.label} ${Math.abs(context.raw)}`;
        }
    }

};


new Chart($graphPopulation, {
    type: 'bar',// Tipo de gr√°fica
    data: {
        labels: tagsPopulation,
        datasets: [
            {
                label:'female',
                data: femaleData,
                backgroundColor:'rgba(212, 48, 62, 0.63)',
                borderColor:'rgba(212, 48, 62, 0.95)'
            },
            {
                label:'male',
                data: maleData,
                backgroundColor:'rgba(53, 154, 222, 0.6)',
                borderColor:'rgba(53, 154, 222, 0.8)'
            }
        ]
    },
    options:{
        indexAxis:'y',

        interaction: {
            mode: 'index',
          },
        scales:{
            x:{
                stacked:true,
                ticks:{
                    callback:function(value, index, values){
                        return Math.abs(value);
                    }
                }
            },
            y:{
                beginAtZero:true,
                stacked:true
            }
        },
        plugins:{
            tooltip,
        }
    }


});
